{"remainingRequest":"/home/ubuntu/limpiapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/limpiapp/src/components/profile/CompUserData.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ubuntu/limpiapp/src/components/profile/CompUserData.vue","mtime":1579707809000},{"path":"/home/ubuntu/limpiapp/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/ubuntu/limpiapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ubuntu/limpiapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport overlayalert from '@/components/popups/CompPopsAlert.vue'\nimport { mapState,mapMutations } from \"vuex\";\nimport axios from 'axios'\nexport default {\n  components: {\n    overlayalert,\n  },\n  data() {\n    return {\n      datos: {\n        firs_name: \"\",\n        last_name: \"\",\n        user_email: \"\",\n        tipo: \"\",\n        image: \"\",\n        image2: null,\n        ident: \"\",\n        userPhone: \"\",\n        user_Address: \"\",\n        birthDay: \"\",\n        tipo2:\"\",\n      },\n      birthDay:\"\",\n      listNumber: 1,\n      menu: false,\n      pickerDate: null,\n      modal: false,\n      menu2: false,\n      locale: \"es\",\n      popout: false,\n      inset: false,\n      multiple: false,\n      disabled: false,\n      readonly: false,\n      focusable: false,\n      persistentHint: true,\n      userDataFields: {\n        firstNamesLabel: \"Nombres\",\n        firstNameHint: \"Edite sus nombres\",\n        lastNamesLabel: \"Apellidos\",\n        lastNameHint: \"Edite sus apellidos\",\n        idLabel: \"Documento de identidad\",\n        idHint: \"Edite su id\",\n        emailLabel: \"Email\",\n        emailHint: \"Edite su email\",\n        phoneLabel: \"Teléfono\",\n        phoneHint: \"Edite su teléfono\",\n        birthDayLabel: \"Fecha de cumpleaños\",\n        birthDayHint: \"Edite su cumpleaños\",\n        emailRules: [\n          v => !!v || \"Correo es requerido\",\n          v => /.+@.+/.test(v) || \"Correo no válido\"\n        ],\n        rulesUpLoadAvatar: [\n          value => !value || value.size < 2000000 || \"Máximo 2 MB!\"\n        ],\n        addressLabel: \"Dirección\",\n        addressHint: \"Edite la dirección\",\n        rollLabel: \"Su rol es:\",\n        rollsHint: \"Cambiar de Rol\",\n        rollEdit: [{ text: \"Admin\" }, { text: \"Auxiliar\" }, { text: \"Cliente\" }]\n      }\n    };\n  },\n  created: function(){\n    this.popup({tipo:2,overlay:false})\n    var id = sessionStorage.getItem('id')\n    console.log(id)\n    const path = 'http://3.15.13.45:8000/api/v1.0/users/'+id+'/'\n      axios.get(path).then((response)=> {\n        response = response.data\n        console.log(response['id'])\n        this.datos.firs_name = response['firs_name']\n        this.datos.last_name = response['last_name']\n        this.datos.user_email = response['user_email']\n        this.datos.image = response['image']\n        if (response['tipo']==1) {\n          this.datos.tipo = \"Cliente\"\n          this.datos.tipo2 = 1\n        }\n        if (response['tipo']==2) {\n          this.datos.tipo = \"Auxiliar\"\n          this.datos.tipo2 = 2\n        }\n        if (response['tipo']==3) {\n          this.datos.tipo = \"Administrador\"\n          this.datos.tipo2 = 3\n        }\n        this.datos.ident = response['ident']\n        this.datos.userPhone = response['userPhone']\n        this.datos.user_Address = response['user_Address']\n        this.birthDay = response['birthDay']\n      })\n      .catch((error) => {\n        this.popup({tipo:4,overlay:true})\n        console.log(error)\n      })\n  },\n  methods:{\n    actualizar(){\n      console.log(\"hola\")\n      var id = sessionStorage.getItem('id')\n      const path = 'http://3.15.13.45:8000/api/v1.0/users/'+id+'/'\n        /*const path2 = 'http://localhost:8000/api/v1.0/auxi/'*/\n        if (this.datos.tipo = \"Cliente\") {\n          this.datos.tipo2 = 1\n        }\n        if (this.datos.tipo = \"Auxiliar\") {\n          this.datos.tipo2 = 2\n        }\n        if (this.datos.tipo = \"Administrador\") {\n          this.datos.tipo2 = 3\n        }\n        const formData = new FormData();\n        formData.append('firs_name',this.datos.firs_name)\n        formData.append('last_name',this.datos.last_name)\n        formData.append('user_email',this.datos.user_email)\n        /*formData.append('tipo',this.datos.tipo)*/\n         if (this.datos.image2==null) {\n\n        }\n        else{\n          formData.append('image',this.datos.image2)\n        }\n        formData.append('ident',this.datos.ident)\n        formData.append('userPhone',this.datos.userPhone)\n        if (this.datos.birthDay==null) {\n\n        }\n        else{\n          formData.append('birthDay',this.birthDay)\n        }\n        formData.append('user_Address',this.datos.user_Address)\n        formData.append('tipo',this.datos.tipo2)\n        let options = {\n          headers: {\n            'content-type': 'multipart/form-data'\n          }\n        }\n\n      axios.patch(path, formData, options).then((response)=> {\n        var info = response.data\n        this.datos.image = info['image']\n        this.user.image = info['image']\n        this.popup({tipo:3,overlay:true})\n      })\n      .catch((error) => {\n        this.popup({tipo:4,overlay:true})\n        console.log(error)\n      })\n    },\n    ...mapMutations([\"popup\"]),\n\n},\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    watch: { \n      birthDay(val) {\n      var fecha=val;\n      //console.log(fecha)\n          // Si la fecha es correcta, calculamos la edad\n          var values=fecha.split(\"-\");\n          var dia = values[2];\n          var mes = values[1];\n          var ano = values[0];\n          // cogemos los valores actuales\n          var fecha_hoy = new Date();\n          var ahora_ano = fecha_hoy.getYear();\n          var ahora_mes = fecha_hoy.getMonth()+1;\n          var ahora_dia = fecha_hoy.getDate();\n   \n          // realizamos el calculo\n          var edad = (ahora_ano + 1900) - ano;\n          if ( ahora_mes < mes )\n          {\n              edad--;\n          }\n          if ((mes == ahora_mes) && (ahora_dia < dia))\n          {\n              edad--;\n          }\n          if (edad > 1900)\n          {\n              edad -= 1900;\n          }\n   \n          // calculamos los meses\n          var meses=0;\n          if(ahora_mes>mes)\n              meses=ahora_mes-mes;\n          if(ahora_mes<mes)\n              meses=12-(mes-ahora_mes);\n          if(ahora_mes==mes && dia>ahora_dia)\n              meses=11;\n   \n          // calculamos los dias\n          var dias=0;\n          if(ahora_dia>dia)\n              dias=ahora_dia-dia;\n          if(ahora_dia<dia)\n          {\n              var ultimoDiaMes=new Date(ahora_ano, ahora_mes, 0);\n              dias=ultimoDiaMes.getDate()-(dia-ahora_dia);\n          }\n          //console.log(edad)\n          this.datos.birthDay2=edad\n          console.log(this.birthDay)\n\n    },\n  },\n\n  computed: {\n    ...mapState([\"userData\", \"staffData\", \"user\"])\n  }\n};\n",{"version":3,"sources":["CompUserData.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA","file":"CompUserData.vue","sourceRoot":"src/components/profile","sourcesContent":["<template>\n   <v-col xs=\"12\" sm=\"12\" md=\"4\" lg=\"5\" xl=\"5\" >\n     <v-row>\n     <overlayalert/>\n  </v-row>\n      <v-card>\n         <v-card-title class=\"justify-center\">\n            <v-icon left color=\"primary\">mdi-tooltip-account</v-icon>\n            <div class=\"title primary--text\">\n               Datos Personales\n            </div>\n         </v-card-title>\n         <v-divider></v-divider>\n       \n         \n         <!-- AVATAR PICTURE -->\n         <div class=\"text-center\">\n            <v-avatar v-if='datos.image===null'\n               size=\"100\"\n               class=\"mt-7 mb-7\"\n               >\n               <img  :src=\"require('@/assets/default-avatar.jpg')\" alt=\"avatar\">\n            </v-avatar>\n            <v-avatar v-if='datos.image!==null'\n               size=\"100\"\n               class=\"mt-7 mb-7\"\n               >\n               <img  :src=\"datos.image\" alt=\"avatar\">\n            </v-avatar>\n            <v-file-input\n               :rules=\"userDataFields.rulesUpLoadAvatar\"\n               color=\"secondary\"\n               accept=\"image/png, image/jpeg, image/bmp\"\n               placeholder=\"Actualizar imagen\"\n               prepend-icon=\"mdi-camera\"\n               label=\"Avatar\"\n               class=\"avatar-custom\"\n               v-model=\"datos.image2\"\n               ></v-file-input>\n         </div>\n              <!-- AVATAR PICTURE END-->\n           <v-card-text>\n                 <!-- ===== EXPANSION PANEL USER ===== -->\n         <v-expansion-panels  accordion>\n            <!-- FIRST NAME -->\n            <v-expansion-panel>\n               <v-expansion-panel-header >\n                  <div class=\"panel-title\">\n                     <span  class=\"primary--text font-weight-medium \">Nombres:</span><span> {{datos.firs_name}}</span>\n                  </div>\n                  <template v-slot:actions>\n                     <v-icon color=\"secondary\">mdi-square-edit-outline</v-icon>\n                  </template>\n               </v-expansion-panel-header>\n               <v-expansion-panel-content>\n                  <v-text-field \n                     v-model=\"datos.firs_name\" \n                     :label=\"userDataFields.firstNamesLabel\"\n                     color=\"secondary\"\n                     :hint=\"userDataFields.firstNameHint\" \n                     :persistent-hint=\"persistentHint\"\n                     >  </v-text-field>\n               </v-expansion-panel-content>\n            </v-expansion-panel>\n            <!-- FIRST NAME END -->\n            <!-- LAST NAME -->\n            <v-expansion-panel>\n               <v-expansion-panel-header >\n                  <div class=\"panel-title\">\n                     <span  class=\"primary--text font-weight-medium\">Apellidos:</span><span> {{datos.last_name}}</span>\n                  </div>\n                  <template v-slot:actions>\n                     <v-icon color=\"secondary\">mdi-square-edit-outline</v-icon>\n                  </template>\n               </v-expansion-panel-header>\n               <v-expansion-panel-content>\n                  <v-text-field \n                     v-model=\"datos.last_name\" \n                     :label=\"userDataFields.lastNamesLabel\"\n                     color=\"secondary\"\n                     :hint=\"userDataFields.lastNameHint\" \n                     :persistent-hint=\"persistentHint\"\n                     >  </v-text-field>\n               </v-expansion-panel-content>\n            </v-expansion-panel>\n            <!-- LAST NAME END -->\n            <!-- DOCUMENT ID -->\n            <v-expansion-panel>\n               <v-expansion-panel-header >\n                  <div class=\"panel-title\">\n                     <span  class=\"primary--text font-weight-medium\">Id:</span><span> {{datos.ident}}</span>\n                  </div>\n                  <template v-slot:actions>\n                     <v-icon color=\"secondary\">mdi-square-edit-outline</v-icon>\n                  </template>\n               </v-expansion-panel-header>\n               <v-expansion-panel-content>\n                  <v-text-field \n                     v-model=\"datos.ident\" \n                     :label=\"userDataFields.idLabel\"\n                     color=\"secondary\"\n                     :hint=\"userDataFields.idHint\" \n                     :persistent-hint=\"persistentHint\"\n                     >  </v-text-field>\n               </v-expansion-panel-content>\n            </v-expansion-panel>\n            <!-- DOCUMENT END -->\n            <!-- EMAIL -->\n            <v-expansion-panel>\n               <v-expansion-panel-header >\n                  <div class=\"panel-title\">\n                     <span  class=\"primary--text font-weight-medium\">Correo:</span><span> {{datos.user_email}}</span>\n                  </div>\n                  <template v-slot:actions>\n                     <v-icon color=\"secondary\">mdi-square-edit-outline</v-icon>\n                  </template>\n               </v-expansion-panel-header>\n               <v-expansion-panel-content>\n                  <v-text-field \n                     v-model=\"datos.user_email\" \n                     :label=\"userDataFields.emailLabel\"\n                     color=\"secondary\"\n                     :hint=\"userDataFields.emailHint\" \n                     :persistent-hint=\"persistentHint\"\n                     :rules=\"userDataFields.emailRules\"\n                     >  </v-text-field>\n               </v-expansion-panel-content>\n            </v-expansion-panel>\n            <!-- EMAIL END -->\n            <!-- PHONE -->\n            <v-expansion-panel>\n               <v-expansion-panel-header >\n                  <div class=\"panel-title\">\n                     <span  class=\"primary--text font-weight-medium\">Teléfono:</span><span> {{datos.userPhone}}</span>\n                  </div>\n                  <template v-slot:actions>\n                     <v-icon color=\"secondary\">mdi-square-edit-outline</v-icon>\n                  </template>\n               </v-expansion-panel-header>\n               <v-expansion-panel-content>\n                  <v-text-field \n                     v-model=\"datos.userPhone\" \n                     :label=\"userDataFields.phoneLabel\"\n                     color=\"secondary\"\n                     :hint=\"userDataFields.phoneHint\" \n                     :persistent-hint=\"persistentHint\"\n                     >  </v-text-field>\n               </v-expansion-panel-content>\n            </v-expansion-panel>\n            <!-- PHONE END -->\n            <!-- BIRTHDAY -->\n            <v-expansion-panel>\n               <v-expansion-panel-header>\n                  <div class=\"panel-title\">\n                     <span  class=\"primary--text font-weight-medium\">Edad:</span><span> {{datos.birthDay2}}</span>\n                  </div>\n                  <template v-slot:actions>\n                     <v-icon color=\"secondary\">mdi-square-edit-outline</v-icon>\n                  </template>\n               </v-expansion-panel-header>\n               <v-expansion-panel-content>\n                  <v-dialog\n                     ref=\"dialog\"\n                     v-model=\"modal\"\n                     :return-value.sync=\"birthDay\"\n                     persistent\n                     width=\"320px\"\n                     >\n                     <template v-slot:activator=\"{ on }\">\n                        <v-text-field\n                           v-model=\"birthDay\"\n                           prepend-icon=\"mdi-calendar-multiple\"\n                           :label=\"userDataFields.birthDayLabel\"\n                           color=\"secondary\"\n                           :hint=\"userDataFields.birthDayHint\" \n                           :persistent-hint=\"persistentHint\"\n                           readonly\n                           v-on=\"on\"\n                           ></v-text-field>\n                     </template>\n                     <v-date-picker \n                        v-model=\"birthDay\"\n                        :picker-date.sync=\"pickerDate\"\n                        :locale=\"locale\" \n                        scrollable>\n                        <div class=\"flex-grow-1\"></div>\n                        <v-btn text color=\"primary\" @click=\"modal = false\">Cancel</v-btn>\n                        <v-btn text color=\"primary\" @click=\"$refs.dialog.save(birthDay)\">OK</v-btn>\n                     </v-date-picker>\n                  </v-dialog>\n               </v-expansion-panel-content>\n            </v-expansion-panel>\n            <!-- BIRTHDAY END -->\n            <!-- ADDRESS -->\n            <v-expansion-panel>\n               <v-expansion-panel-header >\n                  <div class=\"panel-title\">\n                     <span  class=\"primary--text font-weight-medium\">Dirección:</span><span> {{datos.user_Address}}</span>\n                  </div>\n                  <template v-slot:actions>\n                     <v-icon color=\"secondary\">mdi-square-edit-outline</v-icon>\n                  </template>\n               </v-expansion-panel-header>\n               <v-expansion-panel-content>\n                  <v-text-field \n                     v-model=\"datos.user_Address\" \n                     :label=\"userDataFields.addressLabel\"\n                     color=\"secondary\"\n                     :hint=\"userDataFields.addressHint\" \n                     :persistent-hint=\"persistentHint\"\n                     >  </v-text-field>\n               </v-expansion-panel-content>\n            </v-expansion-panel>\n\n\n\n\n\n            <v-expansion-panel>\n               <v-expansion-panel-header >\n                  <div class=\"panel-title\">\n                     <span  class=\"primary--text font-weight-medium\">Roll Actual:</span><span> {{datos.tipo}}</span>\n                  </div>\n                  <template v-slot:actions>\n                     <v-icon color=\"secondary\">mdi-square-edit-outline</v-icon>\n                  </template>\n               </v-expansion-panel-header>\n            </v-expansion-panel>\n            <!-- ADDRESS END -->\n            <!-- ROLL -->\n            <!--<v-expansion-panel>\n               <v-expansion-panel-header >\n                  <div class=\"panel-title\">\n                     <span  class=\"primary--text font-weight-medium\">Roll Actual:</span><span> {{datos.tipo}}</span>\n                  </div>\n                  <template v-slot:actions>\n                     <v-icon color=\"secondary\">mdi-square-edit-outline</v-icon>\n                  </template>\n               </v-expansion-panel-header>\n               <v-expansion-panel-content>\n                  <v-overflow-btn\n                     v-model=\"datos.tipo\" \n                     class=\"my-2\"\n                     :items=\"userDataFields.rollEdit\"\n                     color=\"secondary\"\n                     label=\"Nuevo Roll\"\n                     editable\n                     item-value=\"text\"\n                     :hint=\"userDataFields.rollHint\" \n                     :persistent-hint=\"persistentHint\"\n                     ></v-overflow-btn>\n               </v-expansion-panel-content>\n            </v-expansion-panel>-->\n            <!-- ROLL END -->\n         </v-expansion-panels>\n         <!-- ===== EXPANSION PANEL USER END ===== -->\n\n\n                </v-card-text>\n      \n    \n      \n         <!-- continue btn -->\n         <v-card-actions>\n            <v-btn color=\"primary mb-2\" v-on:click=\"actualizar()\">Actualizar información</v-btn>\n         </v-card-actions>\n         <!-- continue btn END -->\n      </v-card>\n   </v-col>\n</template>\n<style>\n.avatar-custom {\n  margin: auto;\n  width: 190px;\n}\n</style>\n<script>\nimport overlayalert from '@/components/popups/CompPopsAlert.vue'\nimport { mapState,mapMutations } from \"vuex\";\nimport axios from 'axios'\nexport default {\n  components: {\n    overlayalert,\n  },\n  data() {\n    return {\n      datos: {\n        firs_name: \"\",\n        last_name: \"\",\n        user_email: \"\",\n        tipo: \"\",\n        image: \"\",\n        image2: null,\n        ident: \"\",\n        userPhone: \"\",\n        user_Address: \"\",\n        birthDay: \"\",\n        tipo2:\"\",\n      },\n      birthDay:\"\",\n      listNumber: 1,\n      menu: false,\n      pickerDate: null,\n      modal: false,\n      menu2: false,\n      locale: \"es\",\n      popout: false,\n      inset: false,\n      multiple: false,\n      disabled: false,\n      readonly: false,\n      focusable: false,\n      persistentHint: true,\n      userDataFields: {\n        firstNamesLabel: \"Nombres\",\n        firstNameHint: \"Edite sus nombres\",\n        lastNamesLabel: \"Apellidos\",\n        lastNameHint: \"Edite sus apellidos\",\n        idLabel: \"Documento de identidad\",\n        idHint: \"Edite su id\",\n        emailLabel: \"Email\",\n        emailHint: \"Edite su email\",\n        phoneLabel: \"Teléfono\",\n        phoneHint: \"Edite su teléfono\",\n        birthDayLabel: \"Fecha de cumpleaños\",\n        birthDayHint: \"Edite su cumpleaños\",\n        emailRules: [\n          v => !!v || \"Correo es requerido\",\n          v => /.+@.+/.test(v) || \"Correo no válido\"\n        ],\n        rulesUpLoadAvatar: [\n          value => !value || value.size < 2000000 || \"Máximo 2 MB!\"\n        ],\n        addressLabel: \"Dirección\",\n        addressHint: \"Edite la dirección\",\n        rollLabel: \"Su rol es:\",\n        rollsHint: \"Cambiar de Rol\",\n        rollEdit: [{ text: \"Admin\" }, { text: \"Auxiliar\" }, { text: \"Cliente\" }]\n      }\n    };\n  },\n  created: function(){\n    this.popup({tipo:2,overlay:false})\n    var id = sessionStorage.getItem('id')\n    console.log(id)\n    const path = 'http://3.15.13.45:8000/api/v1.0/users/'+id+'/'\n      axios.get(path).then((response)=> {\n        response = response.data\n        console.log(response['id'])\n        this.datos.firs_name = response['firs_name']\n        this.datos.last_name = response['last_name']\n        this.datos.user_email = response['user_email']\n        this.datos.image = response['image']\n        if (response['tipo']==1) {\n          this.datos.tipo = \"Cliente\"\n          this.datos.tipo2 = 1\n        }\n        if (response['tipo']==2) {\n          this.datos.tipo = \"Auxiliar\"\n          this.datos.tipo2 = 2\n        }\n        if (response['tipo']==3) {\n          this.datos.tipo = \"Administrador\"\n          this.datos.tipo2 = 3\n        }\n        this.datos.ident = response['ident']\n        this.datos.userPhone = response['userPhone']\n        this.datos.user_Address = response['user_Address']\n        this.birthDay = response['birthDay']\n      })\n      .catch((error) => {\n        this.popup({tipo:4,overlay:true})\n        console.log(error)\n      })\n  },\n  methods:{\n    actualizar(){\n      console.log(\"hola\")\n      var id = sessionStorage.getItem('id')\n      const path = 'http://3.15.13.45:8000/api/v1.0/users/'+id+'/'\n        /*const path2 = 'http://localhost:8000/api/v1.0/auxi/'*/\n        if (this.datos.tipo = \"Cliente\") {\n          this.datos.tipo2 = 1\n        }\n        if (this.datos.tipo = \"Auxiliar\") {\n          this.datos.tipo2 = 2\n        }\n        if (this.datos.tipo = \"Administrador\") {\n          this.datos.tipo2 = 3\n        }\n        const formData = new FormData();\n        formData.append('firs_name',this.datos.firs_name)\n        formData.append('last_name',this.datos.last_name)\n        formData.append('user_email',this.datos.user_email)\n        /*formData.append('tipo',this.datos.tipo)*/\n         if (this.datos.image2==null) {\n\n        }\n        else{\n          formData.append('image',this.datos.image2)\n        }\n        formData.append('ident',this.datos.ident)\n        formData.append('userPhone',this.datos.userPhone)\n        if (this.datos.birthDay==null) {\n\n        }\n        else{\n          formData.append('birthDay',this.birthDay)\n        }\n        formData.append('user_Address',this.datos.user_Address)\n        formData.append('tipo',this.datos.tipo2)\n        let options = {\n          headers: {\n            'content-type': 'multipart/form-data'\n          }\n        }\n\n      axios.patch(path, formData, options).then((response)=> {\n        var info = response.data\n        this.datos.image = info['image']\n        this.user.image = info['image']\n        this.popup({tipo:3,overlay:true})\n      })\n      .catch((error) => {\n        this.popup({tipo:4,overlay:true})\n        console.log(error)\n      })\n    },\n    ...mapMutations([\"popup\"]),\n\n},\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    watch: { \n      birthDay(val) {\n      var fecha=val;\n      //console.log(fecha)\n          // Si la fecha es correcta, calculamos la edad\n          var values=fecha.split(\"-\");\n          var dia = values[2];\n          var mes = values[1];\n          var ano = values[0];\n          // cogemos los valores actuales\n          var fecha_hoy = new Date();\n          var ahora_ano = fecha_hoy.getYear();\n          var ahora_mes = fecha_hoy.getMonth()+1;\n          var ahora_dia = fecha_hoy.getDate();\n   \n          // realizamos el calculo\n          var edad = (ahora_ano + 1900) - ano;\n          if ( ahora_mes < mes )\n          {\n              edad--;\n          }\n          if ((mes == ahora_mes) && (ahora_dia < dia))\n          {\n              edad--;\n          }\n          if (edad > 1900)\n          {\n              edad -= 1900;\n          }\n   \n          // calculamos los meses\n          var meses=0;\n          if(ahora_mes>mes)\n              meses=ahora_mes-mes;\n          if(ahora_mes<mes)\n              meses=12-(mes-ahora_mes);\n          if(ahora_mes==mes && dia>ahora_dia)\n              meses=11;\n   \n          // calculamos los dias\n          var dias=0;\n          if(ahora_dia>dia)\n              dias=ahora_dia-dia;\n          if(ahora_dia<dia)\n          {\n              var ultimoDiaMes=new Date(ahora_ano, ahora_mes, 0);\n              dias=ultimoDiaMes.getDate()-(dia-ahora_dia);\n          }\n          //console.log(edad)\n          this.datos.birthDay2=edad\n          console.log(this.birthDay)\n\n    },\n  },\n\n  computed: {\n    ...mapState([\"userData\", \"staffData\", \"user\"])\n  }\n};\n</script>"]}]}