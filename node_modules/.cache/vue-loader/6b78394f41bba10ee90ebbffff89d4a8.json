{"remainingRequest":"/home/ubuntu/limpiapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/limpiapp/src/components/history/CompRecordsUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ubuntu/limpiapp/src/components/history/CompRecordsUser.vue","mtime":1580055942000},{"path":"/home/ubuntu/limpiapp/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/ubuntu/limpiapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ubuntu/limpiapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { mapState } from \"vuex\";\r\nimport axios from 'axios'\r\nexport default {\r\n  data: () => ({\r\n    listNumber: 1,\r\n    hidden: false,\r\n    loading: false,\r\n    selection: 1,\r\n    agenda: [],\r\n    tipo: \"\",\r\n    page: 1,\r\n    tamaño_total: 0,\r\n    cantidad: 0,\r\n    control: 0,\r\n    preDatos:[],\r\n  }),\r\n  created: function(){\r\n    this.tipo = this.user.tipo\r\n    var id = this.user.id\r\n    const path = 'http://3.15.13.45:8000/api/v1.0/agend_clien/?id='+id+'&hecho='+1\r\n      axios.get(path).then((response)=> {\r\n        this.preDatos = response.data\r\n        this.tamaño_total = this.preDatos.count\r\n        this.agenda = this.preDatos.results.slice(0,10)\r\n        if (this.tamaño_total > 10) {\r\n          var cantidad = this.tamaño_total/10\r\n          this.cantidad = Math.ceil(cantidad)\r\n        }\r\n      })\r\n        .catch((error) => {\r\n          console.log(error)\r\n        })\r\n    /*if(this.tipo==3){\r\n      const path = 'http://3.15.13.45:8000/api/v1.0/agend_full/?realizado=1'\r\n      axios.get(path).then((response)=> {\r\n        this.preDatos = response.data\r\n        this.tamaño_total = this.preDatos.count\r\n        this.agenda = this.preDatos.results.slice(0,10)\r\n        if (this.tamaño_total > 10) {\r\n          var cantidad = this.tamaño_total/10\r\n          this.cantidad = Math.ceil(cantidad)\r\n        }\r\n      })\r\n        .catch((error) => {\r\n          console.log(error)\r\n        })\r\n    }\r\n    if(this.tipo==2){\r\n      const path = 'http://3.15.13.45:8000/api/v1.0/agend_full/?id='+id+'&hecho='+1\r\n      axios.get(path).then((response)=> {\r\n        this.preDatos = response.data\r\n        this.tamaño_total = this.preDatos.count\r\n        this.agenda = this.preDatos.results.slice(0,10)\r\n        if (this.tamaño_total > 10) {\r\n          var cantidad = this.tamaño_total/10\r\n          this.cantidad = Math.ceil(cantidad)\r\n        }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error)\r\n        })\r\n    }*/\r\n    /*var id = sessionStorage.getItem('id')\r\n    console.log(id)\r\n    const path = 'http://localhost:8000/api/v1.0/agenda'\r\n      axios.get(path).then((response)=> {\r\n        response = response.data\r\n        const path = 'http://localhost:8000/api/v1.0/fech_agend?id_agenda=10'*/\r\n        /*console.log(response['id'])\r\n        this.datos.firs_name = response['firs_name']\r\n        this.datos.last_name = response['last_name']\r\n        this.datos.user_email = response['user_email']\r\n        if (response['tipo']==1) {\r\n          this.datos.tipo = \"Cliente\"\r\n        }\r\n        if (response['tipo']==2) {\r\n          this.datos.tipo = \"Auxiliar\"\r\n        }\r\n        if (response['tipo']==3) {\r\n          this.datos.tipo = \"Administrador\"\r\n        }\r\n        this.datos.image = response['image']\r\n        this.datos.ident = response['ident']\r\n        this.datos.userPhone = response['userPhone']\r\n        this.datos.user_Address = response['user_Address']\r\n        this.datos.birthDay = response['birthDay']*/\r\n      /*})\r\n      .catch((error) => {\r\n        console.log(error)\r\n      })*/\r\n  },\r\n\r\n  methods: {\r\n    reserve() {\r\n      this.loading = true;\r\n      setTimeout(() => (this.loading = false), 2000);\r\n    },\r\n    next(page){\r\n    console.log(page)\r\n      var max = (this.page*10)\r\n      var min = max-10\r\n      this.agenda = this.preDatos.results.slice(min,max)\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\"userData\", \"staffData\", \"user\"])\r\n  }\r\n};\r\n",{"version":3,"sources":["CompRecordsUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CompRecordsUser.vue","sourceRoot":"src/components/history","sourcesContent":["<template>\r\n   <v-container>\r\n      <v-row align=\"start\" justify=\"center\">\r\n         <v-col xs=\"12\" sm=\"12\" md=\"6\" lg=\"4\" xl=\"4\" v-for=\"(agenda, index) of agenda\" :key=\"index\">\r\n            <v-card :loading=\"loading\">\r\n               <v-list-item>\r\n                  <v-list-item-avatar>\r\n                     <img v-bind:src=\"'http://3.15.13.45:8000' + agenda.id_auxi.image\">\r\n                  </v-list-item-avatar>\r\n                  <v-list-item-content>\r\n                     <v-list-item-title class=\"headline\">\r\n                        <div class=\"accent--text\"> ID. {{agenda.id}} </div>\r\n                     </v-list-item-title>\r\n                     <v-list-item-subtitle>Asignado a: {{agenda.id_auxi.firs_name}}</v-list-item-subtitle>\r\n                  </v-list-item-content>\r\n               </v-list-item>\r\n               <v-divider class=\"mx-4\"></v-divider>\r\n               <v-expansion-panels>\r\n                  <v-expansion-panel>\r\n                     <v-expansion-panel-header>Ver todos los detalles</v-expansion-panel-header>\r\n                     <v-expansion-panel-content>\r\n                        <v-list-item>\r\n                           <v-list-item-content>\r\n                              <ul class=\"list-triangle-icon\">\r\n                                 <li>\r\n                                    <div class=\"overline\">Persona a cargo</div>\r\n                                    <span class=\"subtitle-1 font-weight-medium\"> {{agenda.pers_Acargo}}</span>\r\n                                 </li>\r\n                                 <li>\r\n                                    <div class=\"overline\">Tipo de servicio</div>\r\n                                    <span class=\"subtitle-1 font-weight-medium\"> {{agenda.modalidad.nombre}} {{agenda.tipo_servi.nombre}}</span>\r\n                                 </li>\r\n                             \r\n                             \r\n                                 <li>\r\n                                    <div class=\"overline\">Ciudad</div>\r\n                                    <span class=\"subtitle-1 font-weight-medium\"> {{agenda.lugar}}</span>\r\n                                 </li>\r\n                                 <li>\r\n                                    <div class=\"overline\">Dirección</div>\r\n                                    <span class=\"subtitle-1 font-weight-medium\"> {{agenda.direccion}}</span>\r\n                                 </li>\r\n                                 <li>\r\n                                    <div class=\"overline\">Anotaciones</div>\r\n                                    <span class=\"subtitle-1 font-weight-medium\"> {{agenda.observaciones}}</span>\r\n                                 </li>\r\n                              </ul>\r\n                           </v-list-item-content>\r\n                        </v-list-item>\r\n                     </v-expansion-panel-content>\r\n                  </v-expansion-panel>\r\n               </v-expansion-panels>\r\n               <v-list-item>\r\n                  <ul class=\"list-triangle-icon\">\r\n                     <li>\r\n                        <div class=\"overline\">Dias solicitados</div>\r\n                        <v-chip-group\r\n                           v-model=\"selection\"\r\n                           column>\r\n                           <v-chip v-for=\"(dateservice, index) of agenda.this_agenda\" :key=\"index\">\r\n                              {{dateservice.fecha}}\r\n                           </v-chip>\r\n                        </v-chip-group>\r\n                     </li>\r\n                            <li>\r\n                        <div class=\"overline\">Hora seleccionada</div>\r\n                        <v-chip-group\r\n                           v-model=\"selection\"\r\n                           column>\r\n                           <v-chip>\r\n                              {{agenda.hora}}\r\n                           </v-chip>\r\n                        </v-chip-group>\r\n                     </li>\r\n                  </ul>\r\n               </v-list-item>\r\n               <v-divider class=\"mx-4\"></v-divider>\r\n            </v-card>\r\n         </v-col>\r\n      </v-row>\r\n      <div class=\"text-center\">\r\n    <v-pagination\r\n      v-model=\"page\"\r\n      :length=\"cantidad\"\r\n      @input=\"next\"\r\n    ></v-pagination>\r\n  </div>\r\n   </v-container>\r\n</template>\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport axios from 'axios'\r\nexport default {\r\n  data: () => ({\r\n    listNumber: 1,\r\n    hidden: false,\r\n    loading: false,\r\n    selection: 1,\r\n    agenda: [],\r\n    tipo: \"\",\r\n    page: 1,\r\n    tamaño_total: 0,\r\n    cantidad: 0,\r\n    control: 0,\r\n    preDatos:[],\r\n  }),\r\n  created: function(){\r\n    this.tipo = this.user.tipo\r\n    var id = this.user.id\r\n    const path = 'http://3.15.13.45:8000/api/v1.0/agend_clien/?id='+id+'&hecho='+1\r\n      axios.get(path).then((response)=> {\r\n        this.preDatos = response.data\r\n        this.tamaño_total = this.preDatos.count\r\n        this.agenda = this.preDatos.results.slice(0,10)\r\n        if (this.tamaño_total > 10) {\r\n          var cantidad = this.tamaño_total/10\r\n          this.cantidad = Math.ceil(cantidad)\r\n        }\r\n      })\r\n        .catch((error) => {\r\n          console.log(error)\r\n        })\r\n    /*if(this.tipo==3){\r\n      const path = 'http://3.15.13.45:8000/api/v1.0/agend_full/?realizado=1'\r\n      axios.get(path).then((response)=> {\r\n        this.preDatos = response.data\r\n        this.tamaño_total = this.preDatos.count\r\n        this.agenda = this.preDatos.results.slice(0,10)\r\n        if (this.tamaño_total > 10) {\r\n          var cantidad = this.tamaño_total/10\r\n          this.cantidad = Math.ceil(cantidad)\r\n        }\r\n      })\r\n        .catch((error) => {\r\n          console.log(error)\r\n        })\r\n    }\r\n    if(this.tipo==2){\r\n      const path = 'http://3.15.13.45:8000/api/v1.0/agend_full/?id='+id+'&hecho='+1\r\n      axios.get(path).then((response)=> {\r\n        this.preDatos = response.data\r\n        this.tamaño_total = this.preDatos.count\r\n        this.agenda = this.preDatos.results.slice(0,10)\r\n        if (this.tamaño_total > 10) {\r\n          var cantidad = this.tamaño_total/10\r\n          this.cantidad = Math.ceil(cantidad)\r\n        }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error)\r\n        })\r\n    }*/\r\n    /*var id = sessionStorage.getItem('id')\r\n    console.log(id)\r\n    const path = 'http://localhost:8000/api/v1.0/agenda'\r\n      axios.get(path).then((response)=> {\r\n        response = response.data\r\n        const path = 'http://localhost:8000/api/v1.0/fech_agend?id_agenda=10'*/\r\n        /*console.log(response['id'])\r\n        this.datos.firs_name = response['firs_name']\r\n        this.datos.last_name = response['last_name']\r\n        this.datos.user_email = response['user_email']\r\n        if (response['tipo']==1) {\r\n          this.datos.tipo = \"Cliente\"\r\n        }\r\n        if (response['tipo']==2) {\r\n          this.datos.tipo = \"Auxiliar\"\r\n        }\r\n        if (response['tipo']==3) {\r\n          this.datos.tipo = \"Administrador\"\r\n        }\r\n        this.datos.image = response['image']\r\n        this.datos.ident = response['ident']\r\n        this.datos.userPhone = response['userPhone']\r\n        this.datos.user_Address = response['user_Address']\r\n        this.datos.birthDay = response['birthDay']*/\r\n      /*})\r\n      .catch((error) => {\r\n        console.log(error)\r\n      })*/\r\n  },\r\n\r\n  methods: {\r\n    reserve() {\r\n      this.loading = true;\r\n      setTimeout(() => (this.loading = false), 2000);\r\n    },\r\n    next(page){\r\n    console.log(page)\r\n      var max = (this.page*10)\r\n      var min = max-10\r\n      this.agenda = this.preDatos.results.slice(min,max)\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\"userData\", \"staffData\", \"user\"])\r\n  }\r\n};\r\n</script>"]}]}