{"remainingRequest":"/home/ubuntu/limpiapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/limpiapp/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ubuntu/limpiapp/src/views/Login.vue","mtime":1579577892000},{"path":"/home/ubuntu/limpiapp/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/ubuntu/limpiapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ubuntu/limpiapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport overlayalert from '@/components/popups/CompPopsAlert.vue'\r\nimport VueRouter from '../router.js'\r\nimport axios from 'axios'\r\nimport swal from 'sweetalert'\r\nimport { mapState, mapMutations } from \"vuex\";\r\nexport default {\r\n  components: {\r\n    overlayalert,\r\n  },\r\n  name: \"login\",\r\n  data() {\r\n    return {\r\n      form: {\r\n        user_email: \"\",\r\n        password: \"\",\r\n      },\r\n      label: \"Usuario\",\r\n      hint: \"Ingrese su usuario registrado\",\r\n      labelPass: \"Contraseña\",\r\n      hintPass: \"Ingrese 6 digitos mínimo\",\r\n      show1: false,\r\n      show2: true,\r\n      show3: false,\r\n      show4: false,\r\n\r\n      rules: {\r\n        required: value => !!value || \"Requerido\",\r\n        min: v => v.length >= 6 || \"Min 6 caractéres\",\r\n        emailMatch: () => \"The email and password you entered don't match\"\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    onSubmit(evt){\r\n      evt.preventDefault()\r\n\r\n      const path = 'http://3.15.13.45:8000/login'\r\n      axios.post(path, this.form).then((response)=> {\r\n        var info = response\r\n        if (info.data == false) {\r\n          //swal(\"Datos incorrectos, intente nuevamente\", \"\", \"error\")\r\n          this.popup({tipo:1,overlay:true})\r\n        }\r\n        else {\r\n          info=JSON.parse(info.data)\r\n          console.log(info)\r\n          sessionStorage.setItem('id', info['id'])\r\n          sessionStorage.setItem('tipo', info['tipo'])\r\n          this.login(\r\n            {\r\n              id: info['id'],\r\n              firs_name: info['firs_name'],\r\n              last_name: info['last_name'],\r\n              user_email: info['user_email'],\r\n              tipo: info['tipo'],\r\n              image: info['image'],\r\n              ident: info['ident'],\r\n              userPhone: info['userPhone'],\r\n              user_Address: info['user_Address'],\r\n              birthDay: info['birthDay'],\r\n              id_modalidad:0\r\n            })\r\n          this.popup({tipo:2,overlay:true})\r\n          setTimeout(alertFunc, 2000)\r\n          function alertFunc(){\r\n            VueRouter.push('panel-usuario')\r\n          }\r\n          /*swal({\r\n            icon: 'success',\r\n            title: 'Bienvenido',\r\n            button: false,\r\n            timer: 2000,\r\n          onAfterClose: pasar()\r\n          })\r\n           function pasar(){\r\n            //console.log(\"hola\")\r\n            VueRouter.push('panel-usuario')\r\n           }*/\r\n          //swal(\"Bienvenido\", \"\", \"success\")\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n      })\r\n    },\r\n    ...mapMutations([\"login\",\"popup\"]),\r\n  },\r\n}\r\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n     <div class=\"login\">\r\n      <v-row>\r\n     <overlayalert/>\r\n  </v-row>\r\n\r\n      <v-card elevation=\"7\"\r\n         max-width=\"400\"\r\n         class=\"mx-auto mt-5 mb-5\"\r\n         >\r\n         <v-card-title class=\"justify-center\">\r\n            <h1 class=\"headline\">Bienvenidos a</h1>\r\n         </v-card-title>\r\n         <v-img\r\n            :src=\"require('../assets/MainLogo.png')\"\r\n            height=\"148\"\r\n            contain\r\n            ></v-img>\r\n         <v-card-text>\r\n            <form @submit=\"onSubmit\">\r\n               <v-container fluid>\r\n                  <v-row>\r\n                     <v-col cols=\"12\">\r\n                        <v-text-field v-model=\"form.user_email\" :label=\"label\" :hint=\"hint\">  </v-text-field>\r\n                     </v-col>\r\n                     <v-col cols=\"12\">\r\n                        <v-text-field v-model=\"form.password\" \r\n                           :label=\"labelPass\" \r\n                           :hint=\"hintPass\"\r\n                           :rules=\"[rules.required, rules.min]\"\r\n                           :type=\"show1 ? 'text' : 'password'\"\r\n                           name=\"input-10-1\"\r\n                           counter\r\n                           @click:append=\"show1 = !show1\"\r\n                           :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                           >  \r\n                        </v-text-field>\r\n                     </v-col>\r\n                  </v-row>\r\n               </v-container>\r\n               <div class=\"text-center\">\r\n                  <v-btn class=\"primary\" type=\"submit\"><span>Ingresar</span>\r\n                      <v-icon right>\r\n                          mdi-login-variant\r\n                      </v-icon>\r\n                  </v-btn>\r\n               </div>\r\n            </form>\r\n              <div class=\"text-center mt-5\">\r\n                   <v-btn small text  font-weight-regular color=\"secondary text-none\" to=\"/recordar-password\">\r\n                       \"He olvidado mis datos de acceso\"</v-btn>\r\n                       <v-btn small text color=\"secondary text-none\" to=\"/registro\">\r\n                       \"Registrarme como usuario\"</v-btn>\r\n               </div>\r\n         </v-card-text>\r\n       \r\n      </v-card>\r\n   </div>\r\n</template>\r\n<style scoped>\r\n.v-input__slider {\r\n  width: 100%;\r\n}\r\n.bg-corp {\r\n  background: rgb(162, 212, 25);\r\n  background: linear-gradient(\r\n    38deg,\r\n    rgba(162, 212, 25, 1) 0%,\r\n    rgba(94, 191, 217, 1) 100%\r\n  );\r\n}\r\n</style>\r\n<script>\r\nimport overlayalert from '@/components/popups/CompPopsAlert.vue'\r\nimport VueRouter from '../router.js'\r\nimport axios from 'axios'\r\nimport swal from 'sweetalert'\r\nimport { mapState, mapMutations } from \"vuex\";\r\nexport default {\r\n  components: {\r\n    overlayalert,\r\n  },\r\n  name: \"login\",\r\n  data() {\r\n    return {\r\n      form: {\r\n        user_email: \"\",\r\n        password: \"\",\r\n      },\r\n      label: \"Usuario\",\r\n      hint: \"Ingrese su usuario registrado\",\r\n      labelPass: \"Contraseña\",\r\n      hintPass: \"Ingrese 6 digitos mínimo\",\r\n      show1: false,\r\n      show2: true,\r\n      show3: false,\r\n      show4: false,\r\n\r\n      rules: {\r\n        required: value => !!value || \"Requerido\",\r\n        min: v => v.length >= 6 || \"Min 6 caractéres\",\r\n        emailMatch: () => \"The email and password you entered don't match\"\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    onSubmit(evt){\r\n      evt.preventDefault()\r\n\r\n      const path = 'http://3.15.13.45:8000/login'\r\n      axios.post(path, this.form).then((response)=> {\r\n        var info = response\r\n        if (info.data == false) {\r\n          //swal(\"Datos incorrectos, intente nuevamente\", \"\", \"error\")\r\n          this.popup({tipo:1,overlay:true})\r\n        }\r\n        else {\r\n          info=JSON.parse(info.data)\r\n          console.log(info)\r\n          sessionStorage.setItem('id', info['id'])\r\n          sessionStorage.setItem('tipo', info['tipo'])\r\n          this.login(\r\n            {\r\n              id: info['id'],\r\n              firs_name: info['firs_name'],\r\n              last_name: info['last_name'],\r\n              user_email: info['user_email'],\r\n              tipo: info['tipo'],\r\n              image: info['image'],\r\n              ident: info['ident'],\r\n              userPhone: info['userPhone'],\r\n              user_Address: info['user_Address'],\r\n              birthDay: info['birthDay'],\r\n              id_modalidad:0\r\n            })\r\n          this.popup({tipo:2,overlay:true})\r\n          setTimeout(alertFunc, 2000)\r\n          function alertFunc(){\r\n            VueRouter.push('panel-usuario')\r\n          }\r\n          /*swal({\r\n            icon: 'success',\r\n            title: 'Bienvenido',\r\n            button: false,\r\n            timer: 2000,\r\n          onAfterClose: pasar()\r\n          })\r\n           function pasar(){\r\n            //console.log(\"hola\")\r\n            VueRouter.push('panel-usuario')\r\n           }*/\r\n          //swal(\"Bienvenido\", \"\", \"success\")\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n      })\r\n    },\r\n    ...mapMutations([\"login\",\"popup\"]),\r\n  },\r\n}\r\n</script>\r\n\r\n<style scope>\r\n.v-btn {\r\n  text-transform: none;\r\n  font-weight: 300;\r\n}\r\n</style>\r\n"]}]}